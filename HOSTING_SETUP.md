# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

## üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
- **–¶–µ–ª—å**: 2000+ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ —Å—É—Ç–∫–∏
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**: 42 —Ä–µ—Ü–µ–ø—Ç–∞ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
- **–ò—Ç–æ–≥–æ**: 48 –∑–∞–ø—É—Å–∫–æ–≤ √ó 42 = **2016 —Ä–µ—Ü–µ–ø—Ç–æ–≤/–¥–µ–Ω—å**
- **PHP –≤–µ—Ä—Å–∏—è**: php8.1

---

## üîß –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ö–æ—Å—Ç–∏–Ω–≥—É

```bash
ssh gamechann2@vh303.sweb.ru
cd im-edok_ru
```

---

## üìÅ –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
ls -la
ls -la storage/logs/
ls -la bootstrap/cache/
```

---

## üîë –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–∫—Ä–∏–ø—Ç
chmod +x schedule.sh

# –ü—Ä–∞–≤–∞ –Ω–∞ storage –∏ bootstrap/cache
chmod -R 775 storage
chmod -R 775 bootstrap/cache

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —Å–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ª–æ–≥–æ–≤
mkdir -p storage/logs
chmod -R 775 storage/logs
```

---

## ‚öôÔ∏è –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ composer –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
php8.1 /usr/local/bin/composer install --no-dev --optimize-autoloader

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
cat .env | grep DB_
cat .env | grep APP_
```

---

## üóÑÔ∏è –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
php8.1 artisan migrate --force

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤
php8.1 artisan db:check
```

---

## üß™ –®–∞–≥ 6: –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥ 5 —Ä–µ—Ü–µ–ø—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∞
php8.1 artisan recipes:parse --count=5

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
php8.1 artisan parser:status

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -n 50 storage/logs/laravel.log
```

---

## ‚è∞ –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CRONTAB

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–æ–º
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "CRON" –∏–ª–∏ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á"
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É:
   - **–ü–µ—Ä–∏–æ–¥**: –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç (`*/30 * * * *`)
   - **–ö–æ–º–∞–Ω–¥–∞**: `cd /home/g/gamechann2/im-edok_ru && php8.1 artisan recipes:parse --count=42 >> storage/logs/parser.log 2>&1`

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä crontab
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ):
*/30 * * * * cd /home/g/gamechann2/im-edok_ru && php8.1 artisan recipes:parse --count=42 >> storage/logs/parser.log 2>&1

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –≤—ã–π–¥–∏—Ç–µ (Ctrl+X, –∑–∞—Ç–µ–º Y, –∑–∞—Ç–µ–º Enter)

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞
crontab -l
```

---

## üìä –®–∞–≥ 8: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
tail -n 100 storage/logs/parser.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Laravel
tail -n 100 storage/logs/laravel.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
php8.1 artisan parser:status
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞

```bash
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–æ ~2000 —Ä–µ—Ü–µ–ø—Ç–æ–≤
php8.1 artisan parser:status

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ–ª—å–∫–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è
php8.1 artisan tinker --execute="
echo '–†–µ—Ü–µ–ø—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è: ' . \App\Models\Recipe::whereDate('created_at', today())->count();
"
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –ø–∞—Ä—Å–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ schedule.sh
ls -la schedule.sh
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: -rwxr-xr-x

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PHP
php8.1 artisan list

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
tail -n 50 storage/logs/laravel.log
```

### –ï—Å–ª–∏ cron –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—É—â–µ–Ω –ª–∏ cron
crontab -l

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ cron (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
tail -n 50 /var/log/cron

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å schedule.sh –≤—Ä—É—á–Ω—É—é
bash schedule.sh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
php8.1 artisan parser:status
```

### –ï—Å–ª–∏ —Ä–µ—Ü–µ–ø—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
curl -I https://1000.menu/cooking

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç–ª–∞–¥–∫—É –ø–∞—Ä—Å–µ—Ä–∞
php8.1 artisan parser:debug

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ–¥—Ä–æ–±–Ω–æ
tail -n 200 storage/logs/laravel.log | grep "ERROR"
```

---

## üìà –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞

| –í—Ä–µ–º—è | –†–µ—Ü–µ–ø—Ç–æ–≤ | –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ |
|-------|----------|--------------|
| 00:00 | 42 | 42 |
| 00:30 | 42 | 84 |
| 01:00 | 42 | 126 |
| 01:30 | 42 | 168 |
| ... | ... | ... |
| 12:00 | 42 | 1008 |
| ... | ... | ... |
| 23:30 | 42 | **2016** |

**–ò—Ç–æ–≥–æ –∑–∞ —Å—É—Ç–∫–∏: 2016 —Ä–µ—Ü–µ–ø—Ç–æ–≤** ‚úÖ

---

## üîÑ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
php8.1 artisan parser:status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø–∞—Ä—Å–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
php8.1 artisan parser:debug

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
php8.1 artisan db:check

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤
php8.1 artisan tinker --execute="
\$recipes = \App\Models\Recipe::orderBy('id', 'desc')->limit(10)->get(['id', 'title', 'created_at']);
foreach(\$recipes as \$r) {
    echo '['.\$r->id.'] '.\$r->title.' - '.\$r->created_at.PHP_EOL;
}
"

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
php8.1 artisan cache:clear
php8.1 artisan config:clear
php8.1 artisan route:clear
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] –ü–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ —Ö–æ—Å—Ç–∏–Ω–≥—É –ø–æ SSH
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `schedule.sh`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ø—Ä–∞–≤–∞ `chmod +x schedule.sh`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –ø—Ä–∞–≤–∞ –Ω–∞ `storage/` –∏ `bootstrap/cache/`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ `.env` —Ñ–∞–π–ª
- [ ] –í—ã–ø–æ–ª–Ω–∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ 5 —Ä–µ—Ü–µ–ø—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏–ª–∏ –∑–∞–¥–∞—á—É –≤ crontab
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —á—Ç–æ crontab –∑–∞–ø—É—â–µ–Ω (`crontab -l`)
- [ ] –ü–æ–¥–æ–∂–¥–∞–ª–∏ 30 –º–∏–Ω—É—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –ª–æ–≥–∏ `storage/logs/parser.log`

---

## üìû –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
echo "=== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–ê–†–°–ï–†–ê ==="
echo ""
echo "1. –í–µ—Ä—Å–∏—è PHP:"
php8.1 -v
echo ""
echo "2. –ü—Ä–∞–≤–∞ –Ω–∞ schedule.sh:"
ls -la schedule.sh
echo ""
echo "3. Crontab:"
crontab -l
echo ""
echo "4. –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∞ –ø–∞—Ä—Å–µ—Ä–∞:"
tail -n 20 storage/logs/parser.log 2>/dev/null || echo "–õ–æ–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω"
echo ""
echo "5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞:"
php8.1 artisan parser:status
echo ""
echo "6. –†–µ—Ü–µ–ø—Ç–æ–≤ –≤ –±–∞–∑–µ:"
php8.1 artisan db:check
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—ã–≤–æ–¥ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è.

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç—Å—è 42 —Ä–µ—Ü–µ–ø—Ç–∞
- ‚úÖ –ó–∞ —Å—É—Ç–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è 2016 —Ä–µ—Ü–µ–ø—Ç–æ–≤
- ‚úÖ –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `storage/logs/parser.log`
- ‚úÖ Sitemap –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ source_url)
